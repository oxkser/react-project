{"ast":null,"code":"import _classCallCheck from\"E:\\\\H5\\\\react\\\\taopiaopiao\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\H5\\\\react\\\\taopiaopiao\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"E:\\\\H5\\\\react\\\\taopiaopiao\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\H5\\\\react\\\\taopiaopiao\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"E:\\\\H5\\\\react\\\\taopiaopiao\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import $ from'jquery';import cookie from'react-cookies';import'../components/CinemaTicket.css';var CinemaTicket=/*#__PURE__*/function(_Component){_inherits(CinemaTicket,_Component);function CinemaTicket(){var _this;_classCallCheck(this,CinemaTicket);_this=_possibleConstructorReturn(this,_getPrototypeOf(CinemaTicket).call(this));_this.state={history:[]};return _this;}_createClass(CinemaTicket,[{key:\"componentDidMount\",value:function componentDidMount(){var that=this;var userid=cookie.load('myuser').id;$.ajax({url:\"http://localhost:9000/history\",type:\"GET\",data:{userid:userid},dataType:\"text\",success:function success(data){if(data){data=JSON.parse(data);that.setState({history:data});console.log(data);}else{}},error:function error(){}});}},{key:\"list\",value:function list(){var listitems=this.state.history.map(function(item){return React.createElement(\"div\",{key:item.id,className:\"ticket-body\"},React.createElement(\"div\",{className:\"left-area\"},React.createElement(\"span\",{className:\"tag\"},\"\\u5EA7\")),React.createElement(\"div\",{className:\"right-area\"},React.createElement(\"div\",{className:\"movie\"},item.movietitle),React.createElement(\"div\",{className:\"time\"},\"购票时间:\"+item.time),React.createElement(\"div\",{className:\"paycinname\"},item.cinname),React.createElement(\"div\",{className:\"house\"},item.house,\" \",item.rows,\" \",item.col),React.createElement(\"div\",{className:\"payprice\"},'￥'+item.price)));});return listitems;}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"root\"},this.list());}}]);return CinemaTicket;}(Component);export{CinemaTicket as default};","map":{"version":3,"sources":["E:/H5/react/taopiaopiao/src/views/CinemaTicket.js"],"names":["React","Component","$","cookie","CinemaTicket","state","history","that","userid","load","id","ajax","url","type","data","dataType","success","JSON","parse","setState","console","log","error","listitems","map","item","movietitle","time","cinname","house","rows","col","price","list"],"mappings":"8jBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,MAAO,gCAAP,C,GACqBC,CAAAA,Y,sEACjB,uBAAa,8CACT,gFACA,MAAKC,KAAL,CAAW,CACPC,OAAO,CAAC,EADD,CAAX,CAFS,aAKZ,C,sFACkB,CACf,GAAIC,CAAAA,IAAI,CAAC,IAAT,CACA,GAAIC,CAAAA,MAAM,CAAGL,MAAM,CAACM,IAAP,CAAY,QAAZ,EAAsBC,EAAnC,CACAR,CAAC,CAACS,IAAF,CAAO,CACHC,GAAG,CAAE,+BADF,CAEHC,IAAI,CAAE,KAFH,CAGHC,IAAI,CAAC,CACDN,MAAM,CAACA,MADN,CAHF,CAOHO,QAAQ,CAAE,MAPP,CAQHC,OARG,kBAQKF,IARL,CAQW,CACV,GAAIA,IAAJ,CAAU,CACNA,IAAI,CAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP,CACAP,IAAI,CAACY,QAAL,CAAc,CACVb,OAAO,CAAEQ,IADC,CAAd,EAGAM,OAAO,CAACC,GAAR,CAAYP,IAAZ,EACH,CAND,IAOK,CACJ,CACJ,CAlBE,CAmBHQ,KAnBG,iBAmBK,CAEP,CArBE,CAAP,EAuBH,C,mCACK,CACF,GAAIC,CAAAA,SAAS,CAAC,KAAKlB,KAAL,CAAWC,OAAX,CAAmBkB,GAAnB,CAAuB,SAACC,IAAD,CAAQ,CACzC,MACI,4BAAK,GAAG,CAAEA,IAAI,CAACf,EAAf,CAAmB,SAAS,CAAC,aAA7B,EACI,2BAAK,SAAS,CAAC,WAAf,EACI,4BAAM,SAAS,CAAC,KAAhB,WADJ,CADJ,CAII,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,OAAf,EAAwBe,IAAI,CAACC,UAA7B,CADJ,CAEI,2BAAK,SAAS,CAAC,MAAf,EAAuB,QAAQD,IAAI,CAACE,IAApC,CAFJ,CAGI,2BAAK,SAAS,CAAC,YAAf,EAA6BF,IAAI,CAACG,OAAlC,CAHJ,CAII,2BAAK,SAAS,CAAC,OAAf,EAAwBH,IAAI,CAACI,KAA7B,KAAqCJ,IAAI,CAACK,IAA1C,KAAiDL,IAAI,CAACM,GAAtD,CAJJ,CAKI,2BAAK,SAAS,CAAC,UAAf,EAA2B,IAAIN,IAAI,CAACO,KAApC,CALJ,CAJJ,CADJ,CAcH,CAfa,CAAd,CAgBA,MAAOT,CAAAA,SAAP,CACH,C,uCACQ,CACL,MACI,4BAAK,SAAS,CAAC,MAAf,EACG,KAAKU,IAAL,EADH,CADJ,CAKH,C,0BA3DqChC,S,SAArBG,Y","sourcesContent":["import React, { Component } from 'react'\r\nimport $ from 'jquery';\r\nimport cookie from 'react-cookies'\r\nimport '../components/CinemaTicket.css'\r\nexport default class CinemaTicket extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            history:[]\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        let that=this\r\n        let userid = cookie.load('myuser').id\r\n        $.ajax({\r\n            url: \"http://localhost:9000/history\",\r\n            type: \"GET\",\r\n            data:{\r\n                userid:userid,\r\n \r\n            },\r\n            dataType: \"text\",\r\n            success(data) {\r\n                if (data) {\r\n                    data = JSON.parse(data);\r\n                    that.setState({\r\n                        history: data\r\n                    })\r\n                    console.log(data);\r\n                }\r\n                else {\r\n                }\r\n            },\r\n            error() {\r\n\r\n            }\r\n        })\r\n    }\r\n    list(){\r\n        let listitems=this.state.history.map((item)=>{\r\n            return(\r\n                <div key={item.id} className='ticket-body'>\r\n                    <div className='left-area'>\r\n                        <span className='tag'>座</span>\r\n                    </div>\r\n                    <div className='right-area'>\r\n                        <div className='movie'>{item.movietitle}</div>\r\n                        <div className='time'>{\"购票时间:\"+item.time}</div>\r\n                        <div className='paycinname'>{item.cinname}</div>\r\n                        <div className='house'>{item.house} {item.rows} {item.col}</div>\r\n                        <div className='payprice'>{'￥'+item.price}</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n        return listitems\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='root'>\r\n              {this.list()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
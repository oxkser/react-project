{"ast":null,"code":"var _jsxFileName = \"E:\\\\H5\\\\react\\\\taopiaopiao\\\\src\\\\views\\\\CinemaTicket.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport cookie from 'react-cookies';\nexport default class CinemaTicket extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    let that = this;\n    let time = new Date().toLocaleString();\n    let userid = cookie.load('myuser').id;\n    console.log(time);\n    $.ajax({\n      url: \"http://localhost:9000/pay\",\n      type: \"GET\",\n      data: {\n        user: userid,\n        cinname: this.state.detail.cinname,\n        movietitle: this.state.detail.movietitle,\n        time: time\n      },\n      dataType: \"text\",\n\n      success(data) {\n        if (data) {\n          data = JSON.parse(data);\n          that.setState({\n            list: data\n          });\n          console.log(data);\n        } else {}\n      },\n\n      error() {}\n\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"\\u8FD9\\u662F\\u7535\\u5F71\\u7968\\u754C\\u9762\");\n  }\n\n}","map":{"version":3,"sources":["E:/H5/react/taopiaopiao/src/views/CinemaTicket.js"],"names":["React","Component","$","cookie","CinemaTicket","constructor","state","componentDidMount","that","time","Date","toLocaleString","userid","load","id","console","log","ajax","url","type","data","user","cinname","detail","movietitle","dataType","success","JSON","parse","setState","list","error","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,eAAe,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAChDI,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAW,EAAX;AAGH;;AACDC,EAAAA,iBAAiB,GAAE;AACf,QAAIC,IAAI,GAAC,IAAT;AACA,QAAIC,IAAI,GAAE,IAAIC,IAAJ,GAAWC,cAAX,EAAV;AACA,QAAIC,MAAM,GAAGT,MAAM,CAACU,IAAP,CAAY,QAAZ,EAAsBC,EAAnC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAP,IAAAA,CAAC,CAACe,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAE,2BADF;AAEHC,MAAAA,IAAI,EAAE,KAFH;AAGHC,MAAAA,IAAI,EAAC;AACDC,QAAAA,IAAI,EAACT,MADJ;AAEDU,QAAAA,OAAO,EAAC,KAAKhB,KAAL,CAAWiB,MAAX,CAAkBD,OAFzB;AAGDE,QAAAA,UAAU,EAAC,KAAKlB,KAAL,CAAWiB,MAAX,CAAkBC,UAH5B;AAIDf,QAAAA,IAAI,EAACA;AAJJ,OAHF;AASHgB,MAAAA,QAAQ,EAAE,MATP;;AAUHC,MAAAA,OAAO,CAACN,IAAD,EAAO;AACV,YAAIA,IAAJ,EAAU;AACNA,UAAAA,IAAI,GAAGO,IAAI,CAACC,KAAL,CAAWR,IAAX,CAAP;AACAZ,UAAAA,IAAI,CAACqB,QAAL,CAAc;AACVC,YAAAA,IAAI,EAAEV;AADI,WAAd;AAGAL,UAAAA,OAAO,CAACC,GAAR,CAAYI,IAAZ;AACH,SAND,MAOK,CACJ;AACJ,OApBE;;AAqBHW,MAAAA,KAAK,GAAG,CAEP;;AAvBE,KAAP;AAyBH;;AACDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADJ;AAKH;;AA5C+C","sourcesContent":["import React, { Component } from 'react'\r\nimport $ from 'jquery';\r\nimport cookie from 'react-cookies'\r\nexport default class CinemaTicket extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        let that=this\r\n        let time= new Date().toLocaleString();\r\n        let userid = cookie.load('myuser').id\r\n        console.log(time)\r\n        $.ajax({\r\n            url: \"http://localhost:9000/pay\",\r\n            type: \"GET\",\r\n            data:{\r\n                user:userid,\r\n                cinname:this.state.detail.cinname,\r\n                movietitle:this.state.detail.movietitle,\r\n                time:time\r\n            },\r\n            dataType: \"text\",\r\n            success(data) {\r\n                if (data) {\r\n                    data = JSON.parse(data);\r\n                    that.setState({\r\n                        list: data\r\n                    })\r\n                    console.log(data);\r\n                }\r\n                else {\r\n                }\r\n            },\r\n            error() {\r\n\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                这是电影票界面\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
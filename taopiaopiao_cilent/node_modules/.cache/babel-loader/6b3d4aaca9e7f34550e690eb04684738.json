{"ast":null,"code":"var _jsxFileName = \"E:\\\\H5\\\\react\\\\taopiaopiao\\\\taopiaopiao_cilent\\\\src\\\\views\\\\Login.js\";\nimport React, { Component } from 'react';\nimport cookie from 'react-cookies';\nimport $ from 'jquery';\nexport default class login extends Component {\n  constructor() {\n    super();\n  }\n\n  login() {\n    let login = document.getElementsByName('user')[0].value;\n    let password = document.getElementsByName(\"password\")[0].value;\n    let that = this;\n    $.ajax({\n      url: \"http://localhost:9000/login\",\n      type: \"POST\",\n      data: {\n        loginid: login,\n        pwd: password\n      },\n      dataType: \"text\",\n\n      success(user) {\n        if (user) {\n          user = JSON.parse(user);\n          cookie.save('myuser', {\n            id: user.id,\n            name: user.username,\n            avatar: user.userimage\n          }, {\n            path: '/'\n          });\n          localStorage.setItem(\"myuser\", {});\n          that.props.history.push('/');\n        } else {\n          console.log(\"帐号或密码错误\");\n          alert(\"账号密码错误\");\n        }\n      },\n\n      error() {}\n\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        height: '100%',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"user\",\n      name: \"user\",\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u8D26\\u53F7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"password\",\n      name: \"password\",\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n      id: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"login\",\n      onClick: this.login.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"));\n  }\n\n}","map":{"version":3,"sources":["E:/H5/react/taopiaopiao/taopiaopiao_cilent/src/views/Login.js"],"names":["React","Component","cookie","$","login","constructor","document","getElementsByName","value","password","that","ajax","url","type","data","loginid","pwd","dataType","success","user","JSON","parse","save","id","name","username","avatar","userimage","path","localStorage","setItem","props","history","push","console","log","alert","error","render","backgroundColor","height","textAlign","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport cookie from 'react-cookies'\r\nimport $ from 'jquery';\r\nexport default class login extends Component {\r\n    constructor(){\r\n        super()\r\n    }\r\n    login() {\r\n        let login = document.getElementsByName('user')[0].value;\r\n        let password = document.getElementsByName(\"password\")[0].value;\r\n        let that = this;\r\n        $.ajax({\r\n          url: \"http://localhost:9000/login\",\r\n          type: \"POST\",\r\n          data: {\r\n            loginid: login,\r\n            pwd: password\r\n          },\r\n          dataType: \"text\",\r\n          success(user) {\r\n            if (user) {\r\n              user = JSON.parse(user);\r\n              cookie.save('myuser', { id: user.id, name: user.username,avatar:user.userimage }, { path: '/' });\r\n              localStorage.setItem(\"myuser\",{});\r\n              that.props.history.push('/');\r\n            }\r\n            else {\r\n              console.log(\"帐号或密码错误\");\r\n              alert(\"账号密码错误\");\r\n            }\r\n            \r\n          },\r\n          error() {\r\n          }\r\n        })\r\n        \r\n      }\r\n    render() {\r\n        return (\r\n            <div style={{ backgroundColor: 'white', height: '100%', textAlign: 'center' }}>\r\n            <div className=\"bank\"></div>\r\n            <div className=\"logo\"></div>\r\n            <div className='input'>\r\n              <input type=\"text\" className=\"user\" name=\"user\" placeholder=\"请输入账号\" /><br />\r\n              <input type=\"password\" className=\"password\" name=\"password\" placeholder=\"请输入密码\" id=\"\" />\r\n            </div>\r\n            <button type=\"submit\" className=\"login\" onClick={this.login.bind(this)}>登录</button>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
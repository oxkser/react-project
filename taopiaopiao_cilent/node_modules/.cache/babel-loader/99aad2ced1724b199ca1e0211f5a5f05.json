{"ast":null,"code":"var _jsxFileName = \"E:\\\\H5\\\\react\\\\taopiaopiao\\\\src\\\\views\\\\CinemaTicket.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport cookie from 'react-cookies';\nimport '../components/CinemaTicket.css';\nexport default class CinemaTicket extends Component {\n  constructor() {\n    super();\n    this.state = {\n      history: []\n    };\n  }\n\n  componentDidMount() {\n    let that = this;\n    let userid = cookie.load('myuser').id;\n    $.ajax({\n      url: \"http://localhost:9000/history\",\n      type: \"GET\",\n      data: {\n        userid: userid\n      },\n      dataType: \"text\",\n\n      success(data) {\n        if (data) {\n          data = JSON.parse(data);\n          that.setState({\n            history: data\n          });\n          console.log(data);\n        } else {}\n      },\n\n      error() {}\n\n    });\n  }\n\n  list() {\n    let listitems = this.state.history.map(item => {\n      return React.createElement(\"div\", {\n        key: item.id,\n        className: \"ticket-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"left-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"\\u5EA7\")), React.createElement(\"div\", {\n        className: \"right-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, item.movietitle), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, item.time), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })));\n    });\n    return listitems;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.list());\n  }\n\n}","map":{"version":3,"sources":["E:/H5/react/taopiaopiao/src/views/CinemaTicket.js"],"names":["React","Component","$","cookie","CinemaTicket","constructor","state","history","componentDidMount","that","userid","load","id","ajax","url","type","data","dataType","success","JSON","parse","setState","console","log","error","list","listitems","map","item","movietitle","time","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAO,gCAAP;AACA,eAAe,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAChDI,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,OAAO,EAAC;AADD,KAAX;AAGH;;AACDC,EAAAA,iBAAiB,GAAE;AACf,QAAIC,IAAI,GAAC,IAAT;AACA,QAAIC,MAAM,GAAGP,MAAM,CAACQ,IAAP,CAAY,QAAZ,EAAsBC,EAAnC;AACAV,IAAAA,CAAC,CAACW,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAE,+BADF;AAEHC,MAAAA,IAAI,EAAE,KAFH;AAGHC,MAAAA,IAAI,EAAC;AACDN,QAAAA,MAAM,EAACA;AADN,OAHF;AAOHO,MAAAA,QAAQ,EAAE,MAPP;;AAQHC,MAAAA,OAAO,CAACF,IAAD,EAAO;AACV,YAAIA,IAAJ,EAAU;AACNA,UAAAA,IAAI,GAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;AACAP,UAAAA,IAAI,CAACY,QAAL,CAAc;AACVd,YAAAA,OAAO,EAAES;AADC,WAAd;AAGAM,UAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACH,SAND,MAOK,CACJ;AACJ,OAlBE;;AAmBHQ,MAAAA,KAAK,GAAG,CAEP;;AArBE,KAAP;AAuBH;;AACDC,EAAAA,IAAI,GAAE;AACF,QAAIC,SAAS,GAAC,KAAKpB,KAAL,CAAWC,OAAX,CAAmBoB,GAAnB,CAAwBC,IAAD,IAAQ;AACzC,aACI;AAAK,QAAA,GAAG,EAAEA,IAAI,CAAChB,EAAf;AAAmB,QAAA,SAAS,EAAC,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADJ,EAII;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMgB,IAAI,CAACC,UAAX,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMD,IAAI,CAACE,IAAX,CAFJ,EAGR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHQ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CAJJ,CADJ;AAaH,KAda,CAAd;AAeA,WAAOJ,SAAP;AACH;;AACDK,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKN,IAAL,EADH,CADJ;AAKH;;AA1D+C","sourcesContent":["import React, { Component } from 'react'\r\nimport $ from 'jquery';\r\nimport cookie from 'react-cookies'\r\nimport '../components/CinemaTicket.css'\r\nexport default class CinemaTicket extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            history:[]\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        let that=this\r\n        let userid = cookie.load('myuser').id\r\n        $.ajax({\r\n            url: \"http://localhost:9000/history\",\r\n            type: \"GET\",\r\n            data:{\r\n                userid:userid,\r\n \r\n            },\r\n            dataType: \"text\",\r\n            success(data) {\r\n                if (data) {\r\n                    data = JSON.parse(data);\r\n                    that.setState({\r\n                        history: data\r\n                    })\r\n                    console.log(data);\r\n                }\r\n                else {\r\n                }\r\n            },\r\n            error() {\r\n\r\n            }\r\n        })\r\n    }\r\n    list(){\r\n        let listitems=this.state.history.map((item)=>{\r\n            return(\r\n                <div key={item.id} className='ticket-body'>\r\n                    <div className='left-area'>\r\n                        <span className='tag'>åº§</span>\r\n                    </div>\r\n                    <div className='right-area'>\r\n                        <div>{item.movietitle}</div>\r\n                        <div>{item.time}</div>\r\n            <div>{}</div>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n        return listitems\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n              {this.list()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}